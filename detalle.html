<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle de Zapatilla | RugalStore</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üëü RugalStore</h1>
  </header>

  <main id="detalle"></main>

  <script src="data.js"></script>
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = parseInt(params.get("id"));

    const detalle = document.getElementById("detalle");

    if (!isNaN(id) && zapatillas[id]) {
      const z = zapatillas[id];
      const tieneEstilos = Array.isArray(z.estilos) && z.estilos.length > 0;
      detalle.innerHTML = `
        <div class="detalle-container">
          <img src="${z.imagen}" alt="${z.nombre}" class="detalle-img" id="detalle-img">
          <div class="detalle-info">
            <h2>${z.nombre}</h2>
            <p><strong>Precio:</strong> $${new Intl.NumberFormat('es-CO').format(z.precio)}</p>
            <a class="btn" href="https://wa.me/573151938525?text=Me%20interesa%20cotizar%20esta%20zapatilla:%20${encodeURIComponent(z.nombre)}" target="_blank">
              Cotizar por WhatsApp
            </a>
            <br><br>
            <a href="index.html" class="btn" style="background:#007f5f;">‚Üê Volver al cat√°logo</a>
            ${tieneEstilos ? `
              <div class="estilos-miniaturas" style="margin-top:1.5rem;">
                ${z.estilos.map((e, i) => `
                  <div class="estilo-miniatura" data-img="${e.imagen}" data-index="${i}">
                    <img src="${e.imagen}" alt="${e.nombre}" title="${e.nombre}">
                  </div>
                `).join("")}
              </div>
            ` : ""}
          </div>
        </div>
      `;

      // Selecci√≥n de estilos (miniaturas)
      if (tieneEstilos) {
        const imgPrincipal = detalle.querySelector("#detalle-img");
        const miniaturas = detalle.querySelectorAll(".estilo-miniatura");
        miniaturas.forEach(item => {
          item.addEventListener("click", () => {
            imgPrincipal.src = item.getAttribute("data-img");
            miniaturas.forEach(i => i.classList.remove("seleccionado"));
            item.classList.add("seleccionado");
          });
        });
      }
    } else {
      detalle.innerHTML = "<p>Zapatilla no encontrada.</p>";
    }
  </script>
</body>
</html>
